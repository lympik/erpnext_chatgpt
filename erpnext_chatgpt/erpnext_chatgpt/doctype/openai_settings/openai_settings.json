{
  "doctype": "DocType",
  "name": "OpenAI Settings",
  "module": "Erpnext Chatgpt",
  "custom":1,
  "issingle": 1,
  "icon": "fa fa-cog",
  "fields": [
    {
      "fieldname": "api_key",
      "fieldtype": "Data",
      "label": "API Key",
      "reqd": 1
    },
    {
      "fieldname": "model",
      "fieldtype": "Select",
      "label": "Model",
      "options": "gpt-3.5-turbo\ngpt-3.5-turbo-16k\ngpt-4\ngpt-4-turbo\ngpt-4o\ngpt-4o-mini",
      "default": "gpt-3.5-turbo",
      "reqd": 1,
      "description": "Select the OpenAI model to use. GPT-3.5-turbo is most cost-effective, GPT-4 models provide better quality."
    },
    {
      "fieldname": "max_tokens",
      "fieldtype": "Int",
      "label": "Max Tokens",
      "default": 8000,
      "description": "Maximum number of tokens for conversation context (default: 8000)"
    },
    {
      "fieldname": "section_break_1",
      "fieldtype": "Section Break",
      "label": "System Instructions"
    },
    {
      "fieldname": "system_instructions",
      "fieldtype": "Long Text",
      "label": "System Instructions",
      "description": "Custom instructions for the AI assistant. These will be included in every conversation. Use {user_name}, {user_email}, {user_roles}, {company}, and {current_datetime} as placeholders."
    },
    {
      "fieldname": "placeholder_help",
      "fieldtype": "HTML",
      "label": "Available Placeholders",
      "options": "<div class='alert alert-info'>\n<h5>Available Placeholders:</h5>\n<ul>\n<li><code>{user_name}</code> - Full name of the current user</li>\n<li><code>{user_email}</code> - Email address of the current user</li>\n<li><code>{user_roles}</code> - Comma-separated list of user roles</li>\n<li><code>{company}</code> - Current default company</li>\n<li><code>{current_datetime}</code> - Current date and time</li>\n</ul>\n<p class='text-muted mt-2'>These placeholders will be automatically replaced with actual values when the AI assistant is initialized.</p>\n</div>"
    }
  ],
  "permissions": [
    {
      "role": "Administrator",
      "read": 1,
      "write": 1,
      "create": 1,
      "delete": 1
    }
  ]
}
